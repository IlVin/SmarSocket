# Аппаратная часть

## Блок АЦП

### Определение количества каналов АЦП
Блок АЦП должен снимать показания со следующих датчиков:
* Датчик тока розетки №1
* Датчик тока розетки №2
* Датчик напряжения
* Другие датчики
Итого блок АЦП должен иметь не менее 4-х каналов.

### Требования к быстродействию АЦП
SmartSocket обладает функцией оценки качества тока в электрической сети, описанной в
ГОСТ 29322-92, ГОСТ 32144-2013.
Для полной реализации этой функциональности необходимо использовать быстрое преобразование
Фурье для определения частотных гармоник, существующих в сети, что выходит за рамки этого
проекта. Мы ограничимся измерением максимальной и минимальной амплитуд напряжения и тока.

Измерение амплитуды напряжения актуально для России, так как РФ находится в процессе
перехода от 220В на 230В стандарт напряжения. Измерение амплитуды тока нам нужно для
подсчета расходования электричекого тока нагрузкой.

Также мы положимся на строгое соблюдение ГОСТ по частоте тока электрических сетей:
Частота переменного тока электрической сети России стандартизирована .
`отклонение частоты в синхронизированных системах электроснабжения не должно превышать
 +/- 0,2 Гц в течение 95% времени интервала в одну неделю и +/- 0,4 Гц в течение 
 100% времени интервала в одну неделю`

Итак, мы будем полагаться на постоянную частоту электрического тока 50Гц.
Зададим точность измерения амплитуды переменного тока/напряжения 1%.

Так как измерения мы проводим с помощью цифровой техники, то нам нужно преобразовать
непрерывную функцию значений датчика в цифровой вид. Для этого используется дискретизация
сигнала. Мы будем использовать равномерную дискретизацию. Нужно определить частоту
дискретизации, при которой мы измерим амплитуду сигнала частотой 50 Гц с заданной
точностью 1%.

Рисуем косинусоиду

Пишем, что частота косинусоиды 50Гц. Длительность периода
`T = 1/50 = 0.02с`
В нулевой точке V0 = 230В, t0 = 0c,
В точке с погрешностью 1% V1 = V0 - 0.01 * V0 = 0.99 * V0 = 0.99 * 230В = 227.7В
Нужно определить t1.
`V1 = sin(t1); 227.7В = sin(t); t = arcsin(227.7В)`



### Варианты реализации АЦП
В качестве длока АЦП можно задействовать следующие технические решения:
1) Использовать имеющийся АЦП в МК ESP8266, дополнив его аналоговым мультиплексором
2) Использовать отдельную схему АЦП
3) В качестве АЦП исполдьзовать другой процессор, имеющий требуемое количество аналоговых каналов.



# Программная часть







# Литература
* 2
